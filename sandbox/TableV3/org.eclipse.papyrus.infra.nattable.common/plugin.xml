<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension-point id="org.eclipse.papyrus.infra.nattable.common.axismanager" name="Axis Manager" schema="schema/org.eclipse.papyrus.infra.nattable.common.axismanager.exsd"/>
   <extension-point id="org.eclipse.papyrus.infra.nattable.common.pathresolver" name="Path Resolver" schema="schema/org.eclipse.papyrus.infra.nattable.common.pathresolver.exsd"/>
    <extension-point id="org.eclipse.papyrus.infra.nattable.common.crossvaluesolver" name="Cross Value Solver" schema="schema/org.eclipse.papyrus.infra.nattable.common.crossvaluesolver.exsd"/>

<!--We declare the model used for the Papyrus Table Editor  -->
   <extension point="org.eclipse.papyrus.infra.core.model">
      <model classname="org.eclipse.papyrus.infra.nattable.common.modelresource.PapyrusNattableModel" description="Model for Papyrus Nattable editors">
      </model>
   </extension>
 <extension id="papyrus.table.menuspapyrus.table.menu" name="Papyrus Table Menus" point="org.eclipse.ui.menus">
      <menuContribution allPopups="false" locationURI="popup:org.eclipse.papyrus.views.modelexplorer.modelexplorer.popup?after=org.eclipse.papyrus.views.modelexplorer.popupmenu.creatediagram">
         <menu icon="icons/table.gif" id="org.eclipse.papyrus.infra.nattable.popupmenu.createnattable" label="New Papyrus Nattable" mnemonic="&amp;T" tooltip="The Papyrus nattable menu">
         </menu>
      </menuContribution>
      <menuContribution allPopups="false" locationURI="menu:org.eclipse.papyrus.ui.menu?after=org.eclipse.papyrus.uml.diagram.ui.menu.diagrams">
         <menu
               icon="icons/table.gif"
               id="org.eclipse.papyrus.infra.nattable.menu.createnattable"
               label="New Papyrus Nattable"
               mnemonic="&amp;T"
               tooltip="The Papyrus nattable menu">
         </menu>
      </menuContribution>
      <menuContribution locationURI="toolbar:org.eclipse.ui.main.toolbar?endof=org.eclipse.papyrus.uml.diagram.ui.toolbar">
         <toolbar id="org.eclipse.papyrus.infra.nattable.toolbar.createnattable" label="New Papyrus Nattable Toolbar">
         </toolbar>
      </menuContribution>
   </extension>
 <extension
       point="org.eclipse.papyrus.infra.nattable.common.axismanager">
    <axisManager
          id="org.eclipse.papyrus.infra.nattable.emf.user.provider"
          manager="org.eclipse.papyrus.infra.nattable.common.manager.EObjectManager">
    </axisManager>
    <axisManager
          id="org.eclipse.papyrus.infra.nattable.emf.feature.provider"
          manager="org.eclipse.papyrus.infra.nattable.common.manager.FeatureManager">
    </axisManager>
 </extension>
 <extension
       point="org.eclipse.ui.menus">
    <menuContribution
          allPopups="true"
          locationURI="popup:org.eclipse.ui.popup.any">
       <command
             commandId="org.eclipse.ui.file.print"
             label="Print Table"
             mnemonic="&amp;P"
             style="push">
          <visibleWhen>
             <with
                   variable="selection">
                <test
                      forcePluginActivation="true"
                      property="org.eclipse.papyrus.infra.nattable.common.editorpart.tester.isEMFNattableEditor"
                      value="true">
                </test>
             </with>
          </visibleWhen>
       </command>
       <command
             commandId="org.eclipse.ui.edit.selectAll"
             style="push">
          <visibleWhen>
             <with
                   variable="selection">
                <test
                      forcePluginActivation="true"
                      property="org.eclipse.papyrus.infra.nattable.common.editorpart.tester.isEMFNattableEditor"
                      value="true">
                </test>
             </with>
          </visibleWhen>
       </command>
    </menuContribution>
 </extension>
 <extension
       point="org.eclipse.ui.handlers">
    <handler
          class="org.eclipse.papyrus.infra.nattable.common.actions.PrintTableHandler"
          commandId="org.eclipse.ui.file.print">
       <activeWhen>
          <and>
             <with
                   variable="selection">
                <test
                      forcePluginActivation="true"
                      property="org.eclipse.papyrus.infra.nattable.common.editorpart.tester.isEMFNattableEditor"
                      value="true">
                </test>
             </with>
          </and>
       </activeWhen>
    </handler>
    <handler
          class="org.eclipse.papyrus.infra.nattable.common.actions.SelectAllAction"
          commandId="org.eclipse.ui.edit.selectAll">
       <activeWhen>
          <and>
             <with
                   variable="selection">
                <test
                      forcePluginActivation="true"
                      property="org.eclipse.papyrus.infra.nattable.common.editorpart.tester.isEMFNattableEditor"
                      value="true">
                </test>
             </with>
          </and>
       </activeWhen>
    </handler>
 </extension>
 <extension
       point="org.eclipse.core.expressions.propertyTesters">
    <propertyTester
          class="org.eclipse.papyrus.infra.nattable.common.NattableInstancePropertyTester"
          id="org.eclipse.papyrus.infra.nattable.common.editorpart.tester"
          namespace="org.eclipse.papyrus.infra.nattable.common.editorpart.tester"
          properties="isEMFNattableEditor"
          type="org.eclipse.jface.viewers.IStructuredSelection">
    </propertyTester>
 </extension>
 <extension
       point="org.eclipse.core.runtime.adapters">
    <factory
          adaptableType="org.eclipse.ui.IWorkbenchPart"
          class="org.eclipse.papyrus.infra.nattable.common.adapter.NattableEditorAdapterFactory">
       <adapter
             type="org.eclipse.papyrus.infra.nattable.common.editor.AbstractEMFNattableEditor">
       </adapter>
    </factory>
 </extension>
 <extension
       point="org.eclipse.papyrus.infra.nattable.common.crossvaluesolver">
    <crossvalueSolver
          id="org.eclipse.papyrus.infra.nattable.common.emf.feature.solver"
          manager="org.eclipse.papyrus.infra.nattable.common.CrossValueSolver1"
          solver="org.eclipse.papyrus.infra.nattable.common.solver.FeatureValueResolver">
    </crossvalueSolver>
 </extension>
</plugin>

