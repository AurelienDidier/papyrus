<html>
<link rel="stylesheet" href="default.css" type="text/css">
<H1>Generic Model Synchronization Framework</H1>
<H2 id ="_ZP6WEAM-EeWWbMjTqzYc1A">Table of Contents</H2>
<ul><a href="#_ZP7kMAM-EeWWbMjTqzYc1A">Requirements</a></ul>
<ul><a href="#_ZQBDwAM-EeWWbMjTqzYc1A">Use Cases</a><li><a href="#_ZRJFIQM-EeWWbMjTqzYc1A"> UML-RT Capsule State Machine Diagram Synchronization</a></li>
<ul><li><a href="#_ZRJsMQM-EeWWbMjTqzYc1A"> Add elements to general state machine</a></li>
<ul></ul>
<li><a href="#_ZRNWkQM-EeWWbMjTqzYc1A"> Delete elements from general state machine</a></li>
<ul></ul>
<li><a href="#_ZRPy0QM-EeWWbMjTqzYc1A"> Lay out elements in general state machine</a></li>
<ul></ul>
<li><a href="#_ZRS2IQM-EeWWbMjTqzYc1A"> Hide elements in general state machine</a></li>
<ul></ul>
<li><a href="#_ZRVSYQM-EeWWbMjTqzYc1A"> Add elements to special state machine</a></li>
<ul></ul>
<li><a href="#_ZRXuoQM-EeWWbMjTqzYc1A"> Lay out elements in special state machine</a></li>
<ul></ul>
<li><a href="#_ZRbZAQM-EeWWbMjTqzYc1A"> Synchronization Lifecycle</a></li>
<ul></ul>
</ul>
</ul>
<ul><a href="#_ZRd1QAM-EeWWbMjTqzYc1A">Design</a><li><a href="#_ZSS7sQM-EeWWbMjTqzYc1A"> Component org.eclipse.papyrus.infra.sync</a></li>
<ul></ul>
<li><a href="#_ZSUw4QM-EeWWbMjTqzYc1A"> Component org.eclipse.papyrus.infra.gmfdiag.common</a></li>
<ul></ul>
<li><a href="#_ZSWmEQM-EeWWbMjTqzYc1A"> Component org.eclipse.papyrus.umlrt.ui</a></li>
<ul></ul>
<li><a href="#_ZSYbQQM-EeWWbMjTqzYc1A"> Package org.eclipse.papyrus.infra.sync</a></li>
<ul><li><a href="#_ZXFVEQM-EeWWbMjTqzYc1A"> Class SyncFeature</a></li>
<ul></ul>
<li><a href="#_ZXHKQQM-EeWWbMjTqzYc1A"> Class SyncBucket</a></li>
<ul></ul>
<li><a href="#_ZXI_cQM-EeWWbMjTqzYc1A"> Class SyncItem</a></li>
<ul></ul>
<li><a href="#_ZXKNkQM-EeWWbMjTqzYc1A"> Class SyncRegistry</a></li>
<ul></ul>
<li><a href="#_ZXMCwQM-EeWWbMjTqzYc1A"> Class MasterSlaveSyncBucket</a></li>
<ul></ul>
<li><a href="#_ZXOfAQM-EeWWbMjTqzYc1A"> Class EMFListener</a></li>
<ul></ul>
<li><a href="#_ZXPtIQM-EeWWbMjTqzYc1A"> Class EMFDispatch</a></li>
<ul></ul>
<li><a href="#_ZXRiUQM-EeWWbMjTqzYc1A"> Collaboration Synchronization</a></li>
<ul><li><a href="#_ZfXuYAM-EeWWbMjTqzYc1A"> Interaction Synchronize Model Elements</a></li>
<ul></ul>
</ul>
</ul>
<li><a href="#_ZhrbgQM-EeWWbMjTqzYc1A"> Package org.eclipse.papyrus.infra.sync.service</a></li>
<ul><li><a href="#_ZksTQQM-EeWWbMjTqzYc1A"> Interface ISyncService</a></li>
<ul></ul>
<li><a href="#_ZkuIcQM-EeWWbMjTqzYc1A"> Interface ISyncTrigger</a></li>
<ul></ul>
<li><a href="#_Zkv9oAM-EeWWbMjTqzYc1A"> Interface ISyncAction</a></li>
<ul></ul>
<li><a href="#_ZkxLwQM-EeWWbMjTqzYc1A"> Class SyncServiceRunnable</a></li>
<ul></ul>
<li><a href="#_ZkzA8QM-EeWWbMjTqzYc1A"> Class CascadeTriggers</a></li>
<ul></ul>
</ul>
<li><a href="#_Zk1dMQM-EeWWbMjTqzYc1A"> Package org.eclipse.papyrus.infra.sync.policy</a></li>
<ul><li><a href="#_ZoqNQAM-EeWWbMjTqzYc1A"> Interface ISyncPolicy</a></li>
<ul></ul>
<li><a href="#_ZosCcAM-EeWWbMjTqzYc1A"> Interface ISyncPolicyDelegate</a></li>
<ul></ul>
<li><a href="#_Zot3oAM-EeWWbMjTqzYc1A"> Class SyncPolicyDelegate</a></li>
<ul></ul>
<li><a href="#_ZowT4QM-EeWWbMjTqzYc1A"> Class DefaultSyncPolicy</a></li>
<ul></ul>
<li><a href="#_ZozXMQM-EeWWbMjTqzYc1A"> Interface ISyncPolicyDelegate.Registry</a></li>
<ul></ul>
<li><a href="#_Zo1MYAM-EeWWbMjTqzYc1A"> Collaboration Synchronization Overrides</a></li>
<ul><li><a href="#_ZsrxoAM-EeWWbMjTqzYc1A"> Interaction Override Diagram Synchronization</a></li>
<ul></ul>
</ul>
</ul>
<li><a href="#_Zvnw4AM-EeWWbMjTqzYc1A"> Package org.eclipse.papyrus.infra.gmfdiag.common.sync</a></li>
<ul><li><a href="#_Z1aP0QM-EeWWbMjTqzYc1A"> Class ContainerChildrenSyncFeature</a></li>
<ul></ul>
<li><a href="#_Z1dTIQM-EeWWbMjTqzYc1A"> Class DiagramEdgesSyncFeature</a></li>
<ul></ul>
<li><a href="#_Z1fvYQM-EeWWbMjTqzYc1A"> Class NodePositionSyncFeature</a></li>
<ul></ul>
<li><a href="#_Z1iLoQM-EeWWbMjTqzYc1A"> Class NodeSizeSyncFeature</a></li>
<ul></ul>
<li><a href="#_Z1kn4QM-EeWWbMjTqzYc1A"> Class EditPartSyncRegistry</a></li>
<ul></ul>
<li><a href="#_Z1nEIQM-EeWWbMjTqzYc1A"> Class EditPartSyncBucket</a></li>
<ul></ul>
<li><a href="#_Z1pgYQM-EeWWbMjTqzYc1A"> Class EditPartSyncItem</a></li>
<ul></ul>
<li><a href="#_Z1r8oQM-EeWWbMjTqzYc1A"> Collaboration Notation Synchronization</a></li>
<ul><li><a href="#_Z4VoAAM-EeWWbMjTqzYc1A"> Interaction Synchronize Notation Views</a></li>
<ul></ul>
</ul>
<li><a href="#_Z6lDsAM-EeWWbMjTqzYc1A"> Class NodePositionSyncDispatcher</a></li>
<ul></ul>
<li><a href="#_Z6nf8QM-EeWWbMjTqzYc1A"> Class NodeSizeSyncDispatcher</a></li>
<ul></ul>
<li><a href="#_Z6p8MQM-EeWWbMjTqzYc1A"> Collaboration Synchronization Exclusions</a></li>
<ul><li><a href="#_Z-CAUAM-EeWWbMjTqzYc1A"> Interaction Exclude Views from Synchronization</a></li>
<ul></ul>
</ul>
<li><a href="#_aA01oQM-EeWWbMjTqzYc1A"> Class NotationSyncPolicyDelegate</a></li>
<ul></ul>
</ul>
</ul>
<ul><a href="#_aA3R4AM-EeWWbMjTqzYc1A">Tests</a><li><a href="#_aBIXoAM-EeWWbMjTqzYc1A"> Component org.eclipse.papyrus.infra.gmfdiag.common.tests</a></li>
<ul></ul>
<li><a href="#_aBKM0QM-EeWWbMjTqzYc1A"> Package org.eclipse.papyrus.infra.gmfdiag.common.sync.tests</a></li>
<ul><li><a href="#_aDERUQM-EeWWbMjTqzYc1A"> Class MasterSlaveNotationSyncTest</a></li>
<ul></ul>
<li><a href="#_aDGGgQM-EeWWbMjTqzYc1A"> Class NotationSyncOverrideTest</a></li>
<ul></ul>
<li><a href="#_aDH7sAM-EeWWbMjTqzYc1A"> Class TestSyncFixture</a></li>
<ul></ul>
</ul>
</ul>
<ul><a href="#_aDJw4AM-EeWWbMjTqzYc1A">Requirements Coverage</a></ul>
<H2 id ="_ZP7kMAM-EeWWbMjTqzYc1A">Requirements</H2>
<pre id ="_ZP8yUQM-EeWWbMjTqzYc1A">- Model-to-Model Sync (id=R1): <BR/> The framework SHALL support the automatic synchronization of model semantics. For example, a state machine in a subclass that redefines a state machine in a superclass must always define regions, vertices, and transitions corresponding to and redefining the regions, vertices, and transitions of the superclass state machine.</pre>
<pre id ="_ZP-AcAM-EeWWbMjTqzYc1A">- Additional Content (id=R1.1): <BR/> The framework SHALL support the creation of additional elements in the target of a model-to-model synchronization.  For example, the state machine of a UML-RT Capsule may add vertices, transitions, and regions in addition to those that are synchronized from (and redefined) the vertices, transitions, and regions of the parent Capsule.  Moreover, transitions that redefine transitions in the parent Capsule may be re-targeted to (or re-sourced from) vertices that are added by the redefining state machine.</pre>
<pre id ="_ZP-ngQM-EeWWbMjTqzYc1A">- Diagram-to-Diagram Sync (id=R2): <BR/> The framework SHALL support automatic synchronization of the layout of diagrams. For example, a state machine diagram in a subclass that redefines a state machine in a superclass initially presents the same layout as the superclass state machine and changes in the superclass state machine diagram layout are reflected in the subclass.</pre>
<pre id ="_ZP_OkQM-EeWWbMjTqzYc1A">- Sync Override (id=R2.1): <BR/> Synchronization of diagram layout SHALL be optional. Initially, a diagram is synchronized with the diagram that it redefines, but as needed to effect a sensible layout of the redefining diagram, this synchronization may be broken by the user. The semantics remain synchronized, and some graphical views may remain synchronized, but the user may freely rearrange other views as required by the redefining context.</pre>
<H2 id ="_ZQBDwAM-EeWWbMjTqzYc1A">Use Cases</H2>
<P align="middle"><img src=/Users/damus/git/Papyrus/plugins/infra/org.eclipse.papyrus.infra.sync/doc/imgDOC/Use_Cases.png alt=Use Cases ></P><P align="middle">Use Cases</P></BR>
<H3 id ="_ZRJFIQM-EeWWbMjTqzYc1A">UML-RT Capsule State Machine Diagram Synchronization</H3>
<H4 id ="_ZRJsMQM-EeWWbMjTqzYc1A">Add elements to general state machine</H4>
<pre id ="_ZRLhYAM-EeWWbMjTqzYc1A">  - traces to <a href="#_ZP8yUQM-EeWWbMjTqzYc1A" title="Requirement Model-to-Model Sync">Model-to-Model Sync</a><BR/><BR/>  - traces from <a href="#_ZXRiUQM-EeWWbMjTqzYc1A" title="Collaboration Synchronization">Synchronization</a></pre>
<pre id ="_ZRMIcQM-EeWWbMjTqzYc1A">The UML-RT model has a Capsule that is specialized by some other Capsule<BR/>that has a state machine redefining the parent Capsule's state machine.<BR/><BR/>When the user adds states, transitions, regions, and other vertices to the<BR/>parent state machine, the system adds corresponding elements to the<BR/>child Capsule's state machine with appropriate redefinition associations.</pre>
<H4 id ="_ZRNWkQM-EeWWbMjTqzYc1A">Delete elements from general state machine</H4>
<pre id ="_ZROksAM-EeWWbMjTqzYc1A">  - traces to <a href="#_ZP8yUQM-EeWWbMjTqzYc1A" title="Requirement Model-to-Model Sync">Model-to-Model Sync</a></pre>
<pre id ="_ZRPLwQM-EeWWbMjTqzYc1A">The UML-RT model has a Capsule that is specialized by some other Capsule<BR/>that has a state machine redefining the parent Capsule's state machine.<BR/><BR/>When the user deletes states, transitions, regions, and other vertices from<BR/>the parent state machine, the system deletes the corresponding redefining<BR/>elements from the child Capsule's state machine.</pre>
<H4 id ="_ZRPy0QM-EeWWbMjTqzYc1A">Lay out elements in general state machine</H4>
<pre id ="_ZRRA8AM-EeWWbMjTqzYc1A">  - traces to <a href="#_ZP-ngQM-EeWWbMjTqzYc1A" title="Requirement Diagram-to-Diagram Sync">Diagram-to-Diagram Sync</a><BR/><BR/>  - traces from <a href="#_Z1r8oQM-EeWWbMjTqzYc1A" title="Collaboration Notation Synchronization">Notation Synchronization</a></pre>
<pre id ="_ZRRoAQM-EeWWbMjTqzYc1A">The UML-RT model has a Capsule that is specialized by some other Capsule<BR/>that has a state machine redefining the parent Capsule's state machine.<BR/><BR/>When the user moves and sizes states, regions, and other vertices in the<BR/>parent state machine diagram, the system moves and sizes the<BR/>corresponding redefining elements in the child Capsule's state machine<BR/>diagram to the redefined elements' locations and sizes, respectively.</pre>
<H4 id ="_ZRS2IQM-EeWWbMjTqzYc1A">Hide elements in general state machine</H4>
<pre id ="_ZRUEQAM-EeWWbMjTqzYc1A">  - traces to <a href="#_ZP-ngQM-EeWWbMjTqzYc1A" title="Requirement Diagram-to-Diagram Sync">Diagram-to-Diagram Sync</a></pre>
<pre id ="_ZRUrUQM-EeWWbMjTqzYc1A">The UML-RT model has a Capsule that is specialized by some other Capsule<BR/>that has a state machine redefining the parent Capsule's state machine.<BR/><BR/>When the user hides states, regions, and other vertices from the<BR/>parent state machine diagram (deleting the views but not the model<BR/>elements, themselves), the system removes the views of the<BR/>corresponding redefining elements from the child Capsule's state<BR/>machine diagram.</pre>
<H4 id ="_ZRVSYQM-EeWWbMjTqzYc1A">Add elements to special state machine</H4>
<pre id ="_ZRWggAM-EeWWbMjTqzYc1A">  - traces to <a href="#_ZP-AcAM-EeWWbMjTqzYc1A" title="Requirement Additional Content">Additional Content</a></pre>
<pre id ="_ZRXHkQM-EeWWbMjTqzYc1A">The UML-RT model has a Capsule that is specialized by some other Capsule<BR/>that has a state machine redefining the parent Capsule's state machine.<BR/><BR/>The user adds states, transitions, regions, and other vertices to the child<BR/>Capsule's state machine that are new in this context, not redefining any<BR/>elements from the parent state machine.  These may be positioned anywhere<BR/>in the child state machine diagram.<BR/><BR/>Also, transitions that redefine inherited transitions in the parent state machine<BR/>may be re-targeted and/or re-sourced as necessary in the child capsule.  This<BR/>includes re-connecting transitions to states and other vertices that exist only<BR/>in the child capsule's state machine (that do not redefine inherited vertices).</pre>
<H4 id ="_ZRXuoQM-EeWWbMjTqzYc1A">Lay out elements in special state machine</H4>
<pre id ="_ZRaK4AM-EeWWbMjTqzYc1A">  - traces to <a href="#_ZP_OkQM-EeWWbMjTqzYc1A" title="Requirement Sync Override">Sync Override</a><BR/><BR/>  - traces from <a href="#_Zo1MYAM-EeWWbMjTqzYc1A" title="Collaboration Synchronization Overrides">Synchronization Overrides</a>, <a href="#_Z6p8MQM-EeWWbMjTqzYc1A" title="Collaboration Synchronization Exclusions">Synchronization Exclusions</a></pre>
<pre id ="_ZRax8QM-EeWWbMjTqzYc1A">The UML-RT model has a Capsule that is specialized by some other Capsule<BR/>that has a state machine redefining the parent Capsule's state machine.<BR/><BR/>When the user deliberately moves and sizes states, regions, and other<BR/>vertices in the child Capsule's state machine diagram, the system detects<BR/>this and exempts the affected views from subsequent synchronization<BR/>of the location and/or size (as appropriate) from the parent state machine<BR/>diagram.  Layout changes in the redefined elements in the parent state<BR/>machine diagram are no longer propagated to these views in the child<BR/>state machine diagram.<BR/></pre>
<H4 id ="_ZRbZAQM-EeWWbMjTqzYc1A">Synchronization Lifecycle</H4>
<pre id ="_ZRcAEQM-EeWWbMjTqzYc1A">When an editor is opened, the system initializes synchronization of<BR/>model and diagram content according to the state machine<BR/>synchronization triggers defined by the UML-RT plug-in.<BR/>The synchronization system is destroyed when the editor is closed.</pre>
<H2 id ="_ZRd1QAM-EeWWbMjTqzYc1A">Design</H2>
<P align="middle"><img src=/Users/damus/git/Papyrus/plugins/infra/org.eclipse.papyrus.infra.sync/doc/imgDOC/Plug-ins.png alt=Plug-ins ></P><P align="middle">Plug-ins</P></BR>
<H3 id ="_ZSS7sQM-EeWWbMjTqzYc1A">Component org.eclipse.papyrus.infra.sync</H3>
<pre id ="_ZSUJ0AM-EeWWbMjTqzYc1A">The core generic synchronization framework.  Provides the base abstractions and<BR/>support for synchronization of EMF-based model elements.</pre>
<H3 id ="_ZSUw4QM-EeWWbMjTqzYc1A">Component org.eclipse.papyrus.infra.gmfdiag.common</H3>
<pre id ="_ZSV_AAM-EeWWbMjTqzYc1A">An extension of the synchronization framework that provides support for<BR/>synchronization of GMF-based diagrams as implemented by EditParts.<BR/>Provides specific synchronization features for:<BR/><ul><BR/><li>nested node edit-parts</li><BR/><li>incoming and outgoing connection edit-parts on nodes</li><BR/><li>position of node edit-parts</li><BR/><li>size of node edit-parts</li><BR/></ul></pre>
<H3 id ="_ZSWmEQM-EeWWbMjTqzYc1A">Component org.eclipse.papyrus.umlrt.ui</H3>
<pre id ="_ZSXNIQM-EeWWbMjTqzYc1A">Specific implementations of synchronization triggers, registries, buckets, and features for<BR/>semantics of redefining Capsule state machines and visualization of redefining capsule<BR/>state machines in state machine diagrams.</pre>
<H3 id ="_ZSYbQQM-EeWWbMjTqzYc1A">Package org.eclipse.papyrus.infra.sync</H3>
<P align="middle"><img src=/Users/damus/git/Papyrus/plugins/infra/org.eclipse.papyrus.infra.sync/doc/imgDOC/Sync_Framework_Core_Classes.png alt=Sync Framework Core Classes ></P><P align="middle">Sync Framework Core Classes</P></BR>
<pre id ="_ZXEuAQM-EeWWbMjTqzYc1A">Core abstractions of the synchronization framework, including integration with<BR/>EMF Transactions for synchronization of EMF model elements using trigger<BR/>commands to implement follow-up changes to synchronized objects in reaction<BR/>to changes observed (as Notifications) in source objects.</pre>
<H4 id ="_ZXFVEQM-EeWWbMjTqzYc1A">Class SyncFeature</H4>
<pre id ="_ZXGjMQM-EeWWbMjTqzYc1A">A synchronization primitive representing a feature, possibly something<BR/>complex or derived, comprising any number of actual features in EMF<BR/>or Java terms, of the "back-end" object type T that is to be synchronized<BR/>from one or more other objects of the same kind matching the same<BR/>(or equivalent) "front-end" model M, on receipt from the source object<BR/>of some message of type X.</pre>
<H4 id ="_ZXHKQQM-EeWWbMjTqzYc1A">Class SyncBucket</H4>
<pre id ="_ZXHxUQM-EeWWbMjTqzYc1A">A group of synchronization items that all match different "back-end" objects<BR/>of type T with the same (or logically equivalent; the matching is flexible)<BR/>"front-end" model element of type M.  A bucket coordinates synchronization<BR/>of any number of featuers from the back-end of a source item that has<BR/>changed to the back-ends of the other items in the bucket.</pre>
<H4 id ="_ZXI_cQM-EeWWbMjTqzYc1A">Class SyncItem</H4>
<pre id ="_ZXJmgQM-EeWWbMjTqzYc1A">A pairing of a "front-end" model element (of type M) with a "back-end"<BR/>object (of type T) that is synchronized from some other back-end paired<BR/>with the same front-end.</pre>
<H4 id ="_ZXKNkQM-EeWWbMjTqzYc1A">Class SyncRegistry</H4>
<pre id ="_ZXLbsAM-EeWWbMjTqzYc1A">A registry of synchronization buckets of the same type.  All of the buckets in<BR/>a registry synchronize the same features of the back-ends of type T matching<BR/>front-ends of type M, on receipt of messages of type X.  An instance of the<BR/>synchronization service (which is unique in a Papyrus editor) has an unique<BR/>SyncRegistry for every combination of actual front-end, back-end, and message<BR/>types.</pre>
<H4 id ="_ZXMCwQM-EeWWbMjTqzYc1A">Class MasterSlaveSyncBucket</H4>
<pre id ="_ZXMp0QM-EeWWbMjTqzYc1A">  - specializes <a href="#_ZXHKQQM-EeWWbMjTqzYc1A" title="Class SyncBucket">SyncBucket</a></pre>
<pre id ="_ZXN38AM-EeWWbMjTqzYc1A">A specialized synchronization bucket that implements a master-slave<BR/>synchronization pattern.  A single SyncItem is identified as the master<BR/>and its back-end is observed for changes, which are pushed to the<BR/>back-ends of all other SyncItems in the bucket (the slaves).</pre>
<H4 id ="_ZXOfAQM-EeWWbMjTqzYc1A">Class EMFListener</H4>
<pre id ="_ZXPGEQM-EeWWbMjTqzYc1A">A ResourceSetLIstener on the Papyrus editor's TransactionalEditingDomain<BR/>that observes, via EMFDispatch objects, changes in the "back-end" objects<BR/>of SyncItems in a bucket.  When changes are observed, they are dispatched<BR/>to the appropriate SyncFeatures to propagate them (as appropriate) to the<BR/>back-ends of other items in the bucket.</pre>
<H4 id ="_ZXPtIQM-EeWWbMjTqzYc1A">Class EMFDispatch</H4>
<pre id ="_ZXQ7QQM-EeWWbMjTqzYc1A">A mediator of the propagation of synchronizable feature changes<BR/>from sources to targets when messages are received from the sources<BR/>that trigger synchronization.  In the EMF context, these messages are<BR/>Notifications.</pre>
<H4 id ="_ZXRiUQM-EeWWbMjTqzYc1A">Collaboration Synchronization</H4>
<pre id ="_ZXSwcAM-EeWWbMjTqzYc1A">  - traces to <a href="#_ZP8yUQM-EeWWbMjTqzYc1A" title="Requirement Model-to-Model Sync">Model-to-Model Sync</a>, <a href="#_BwcAgP_0EeScYo8tuJyy0A" title="Use Case Add elements to general state machine">Add elements to general state machine</a></pre>
<P align="middle"><img src=/Users/damus/git/Papyrus/plugins/infra/org.eclipse.papyrus.infra.sync/doc/imgDOC/Synchronization.png alt=Synchronization ></P><P align="middle">Synchronization</P></BR>
<H5 id ="_ZfXuYAM-EeWWbMjTqzYc1A">Interaction Synchronize Model Elements</H5>
<P align="middle"><img src=/Users/damus/git/Papyrus/plugins/infra/org.eclipse.papyrus.infra.sync/doc/imgDOC/Synchronize_Model_Elements.png alt=Synchronize Model Elements ></P><P align="middle">Synchronize Model Elements</P></BR>
<H3 id ="_ZhrbgQM-EeWWbMjTqzYc1A">Package org.eclipse.papyrus.infra.sync.service</H3>
<P align="middle"><img src=/Users/damus/git/Papyrus/plugins/infra/org.eclipse.papyrus.infra.sync/doc/imgDOC/Sync_Service_Classes.png alt=Sync Service Classes ></P><P align="middle">Sync Service Classes</P></BR>
<pre id ="_ZkrsMAM-EeWWbMjTqzYc1A">A Papyrus registered Service that manages the lifecycle of synchronization,<BR/>including the EMF transaction listener that reacts to changes and the<BR/>application's synchronization triggers and registries.</pre>
<H4 id ="_ZksTQQM-EeWWbMjTqzYc1A">Interface ISyncService</H4>
<pre id ="_ZkthYAM-EeWWbMjTqzYc1A">The synchronization service is a registered Papyrus Service that<BR/>manages model-to-model and diagram-to-diagram synchronization<BR/>within the context of an editor.  It manages the EMF transaction<BR/>listener that triggers synchronization operations and it provides the<BR/>API for triggering the configuration of synchronization on objects<BR/>according to registered ISyncTriggers.</pre>
<H4 id ="_ZkuIcQM-EeWWbMjTqzYc1A">Interface ISyncTrigger</H4>
<pre id ="_ZkuvgQM-EeWWbMjTqzYc1A">Synchronization triggers are registered on an the org.eclipse.papyrus.infra.sync.triggers<BR/>extension point with enablement conditions that match objects on which they should fire. <BR/>When a trigger fires, it provides a sync action that the synchronization runs.  This sync<BR/>action is expected to configure synchronization of the triggering object and/or <em>cascade</em><BR/>the trigger to related objects.</pre>
<H4 id ="_Zkv9oAM-EeWWbMjTqzYc1A">Interface ISyncAction</H4>
<pre id ="_ZkwksQM-EeWWbMjTqzYc1A">An action provided by a synchronization trigger that usually either<BR/>configures synchronization of the triggering object and/or cascade<BR/>the trigger to related objects.</pre>
<H4 id ="_ZkxLwQM-EeWWbMjTqzYc1A">Class SyncServiceRunnable</H4>
<pre id ="_ZkyZ4AM-EeWWbMjTqzYc1A">An executable operation that is run in the context of an ISyncService.</pre>
<H4 id ="_ZkzA8QM-EeWWbMjTqzYc1A">Class CascadeTriggers</H4>
<pre id ="_ZkzoAQM-EeWWbMjTqzYc1A">  - realizes <a href="#_Zkv9oAM-EeWWbMjTqzYc1A" title="Interface ISyncAction">ISyncAction</a></pre>
<pre id ="_Zk02IQM-EeWWbMjTqzYc1A">A synchronization action that cascades the trigger to related objects.<BR/>This causes triggers to be matched on those objects, and any triggers<BR/>that do fire produce further actions that are evaluated to initialize<BR/>synchronization (or induce more triggers).</pre>
<H3 id ="_Zk1dMQM-EeWWbMjTqzYc1A">Package org.eclipse.papyrus.infra.sync.policy</H3>
<P align="middle"><img src=/Users/damus/git/Papyrus/plugins/infra/org.eclipse.papyrus.infra.sync/doc/imgDOC/Sync_Policy_Classes.png alt=Sync Policy Classes ></P><P align="middle">Sync Policy Classes</P></BR>
<pre id ="_Zoo_IQM-EeWWbMjTqzYc1A">API for definition of sync policies providing for synchronization override.</pre>
<H4 id ="_ZoqNQAM-EeWWbMjTqzYc1A">Interface ISyncPolicy</H4>
<pre id ="_Zoq0UQM-EeWWbMjTqzYc1A">A policy determining whether objects are excluded from synchronization of<BR/>certain features that otherwise would be propagated to them from source objects.</pre>
<H4 id ="_ZosCcAM-EeWWbMjTqzYc1A">Interface ISyncPolicyDelegate</H4>
<pre id ="_ZospgQM-EeWWbMjTqzYc1A">A synchronization policy delegate for a specific synchronization feature.</pre>
<H4 id ="_Zot3oAM-EeWWbMjTqzYc1A">Class SyncPolicyDelegate</H4>
<pre id ="_ZouesQM-EeWWbMjTqzYc1A">  - realizes <a href="#_ZosCcAM-EeWWbMjTqzYc1A" title="Interface ISyncPolicyDelegate">ISyncPolicyDelegate</a></pre>
<pre id ="_Zovs0QM-EeWWbMjTqzYc1A">Abstract implementation of a sync policy delegate for some feature.<BR/>Subclasses are required to determine whether the feature is<BR/>synchronized for some given target object and also to react to<BR/>changes introduced by the user in a target object to disable<BR/>synchronization of the feature (if appropriate).</pre>
<H4 id ="_ZowT4QM-EeWWbMjTqzYc1A">Class DefaultSyncPolicy</H4>
<pre id ="_ZoxiAQM-EeWWbMjTqzYc1A">  - realizes <a href="#_ZoqNQAM-EeWWbMjTqzYc1A" title="Interface ISyncPolicy">ISyncPolicy</a></pre>
<pre id ="_ZoyJEQM-EeWWbMjTqzYc1A">Default realization of the ISyncPolicy interface.  Clients of the synchronization<BR/>service may install a policy of their own to replace it.<BR/><BR/>This default sync policy delegates policy queries to registered policy delegates.</pre>
<H4 id ="_ZozXMQM-EeWWbMjTqzYc1A">Interface ISyncPolicyDelegate.Registry</H4>
<pre id ="_Zoz-QQM-EeWWbMjTqzYc1A">A registry of policy delegates by synchronization feature.</pre>
<H4 id ="_Zo1MYAM-EeWWbMjTqzYc1A">Collaboration Synchronization Overrides</H4>
<pre id ="_Zo2agAM-EeWWbMjTqzYc1A">  - traces to <a href="#__JdhwP_0EeScYo8tuJyy0A" title="Use Case Lay out elements in special state machine">Lay out elements in special state machine</a>, <a href="#_ZP-AcAM-EeWWbMjTqzYc1A" title="Requirement Additional Content">Additional Content</a></pre>
<P align="middle"><img src=/Users/damus/git/Papyrus/plugins/infra/org.eclipse.papyrus.infra.sync/doc/imgDOC/Synchronization_Overrides.png alt=Synchronization Overrides ></P><P align="middle">Synchronization Overrides</P></BR>
<H5 id ="_ZsrxoAM-EeWWbMjTqzYc1A">Interaction Override Diagram Synchronization</H5>
<P align="middle"><img src=/Users/damus/git/Papyrus/plugins/infra/org.eclipse.papyrus.infra.sync/doc/imgDOC/Synchronization_Overrides.png alt=Synchronization Overrides ></P><P align="middle">Synchronization Overrides</P></BR>
<H3 id ="_Zvnw4AM-EeWWbMjTqzYc1A">Package org.eclipse.papyrus.infra.gmfdiag.common.sync</H3>
<P align="middle"><img src=/Users/damus/git/Papyrus/plugins/infra/org.eclipse.papyrus.infra.sync/doc/imgDOC/Notation_Sync_Classes.png alt=Notation Sync Classes ></P><P align="middle">Notation Sync Classes</P></BR>
<pre id ="_Z1ZowAM-EeWWbMjTqzYc1A">Implementation of reusable synchronization primitives for GMF-based diagrams.</pre>
<H4 id ="_Z1aP0QM-EeWWbMjTqzYc1A">Class ContainerChildrenSyncFeature</H4>
<pre id ="_Z1bd8QM-EeWWbMjTqzYc1A">  - specializes <a href="#_ZXFVEQM-EeWWbMjTqzYc1A" title="Class SyncFeature">SyncFeature</a></pre>
<pre id ="_Z1csEQM-EeWWbMjTqzYc1A">A specialized SyncFeature that manages synchronization of child<BR/>node EditParts for children of the front-end model element.</pre>
<H4 id ="_Z1dTIQM-EeWWbMjTqzYc1A">Class DiagramEdgesSyncFeature</H4>
<pre id ="_Z1ehQQM-EeWWbMjTqzYc1A">  - specializes <a href="#_ZXFVEQM-EeWWbMjTqzYc1A" title="Class SyncFeature">SyncFeature</a></pre>
<pre id ="_Z1fIUQM-EeWWbMjTqzYc1A">A specialized SyncFeature that manages synchronization of source<BR/>and target connection EditParts for relationships of the front-end<BR/>model element.</pre>
<H4 id ="_Z1fvYQM-EeWWbMjTqzYc1A">Class NodePositionSyncFeature</H4>
<pre id ="_Z1g9gQM-EeWWbMjTqzYc1A">  - specializes <a href="#_ZXFVEQM-EeWWbMjTqzYc1A" title="Class SyncFeature">SyncFeature</a></pre>
<pre id ="_Z1hkkQM-EeWWbMjTqzYc1A">A specialized SyncFeature that manages synchronization of the location<BR/>in the diagram of a node EditPart.</pre>
<H4 id ="_Z1iLoQM-EeWWbMjTqzYc1A">Class NodeSizeSyncFeature</H4>
<pre id ="_Z1jZwAM-EeWWbMjTqzYc1A">  - specializes <a href="#_ZXFVEQM-EeWWbMjTqzYc1A" title="Class SyncFeature">SyncFeature</a></pre>
<pre id ="_Z1kA0QM-EeWWbMjTqzYc1A">A specialized SyncFeature that manages synchronization of the size<BR/>of a node EditPart.</pre>
<H4 id ="_Z1kn4QM-EeWWbMjTqzYc1A">Class EditPartSyncRegistry</H4>
<pre id ="_Z1l2AAM-EeWWbMjTqzYc1A">  - specializes <a href="#_ZXKNkQM-EeWWbMjTqzYc1A" title="Class SyncRegistry">SyncRegistry</a></pre>
<pre id ="_Z1mdEQM-EeWWbMjTqzYc1A">A SyncRegistry that manages SyncBuckets for synchronization of diagram<BR/>EditParts that visualize EObjects in GMF-based diagrams.</pre>
<H4 id ="_Z1nEIQM-EeWWbMjTqzYc1A">Class EditPartSyncBucket</H4>
<pre id ="_Z1oSQAM-EeWWbMjTqzYc1A">  - specializes <a href="#_ZXHKQQM-EeWWbMjTqzYc1A" title="Class SyncBucket">SyncBucket</a></pre>
<pre id ="_Z1o5UQM-EeWWbMjTqzYc1A">A SyncBucket that manages the synchronization of diagram<BR/>EditParts that visualize EObjects in GMF-based diagrams.<BR/>By default, these buckets match edit-parts that all visualize<BR/>the same model element in different diagrams, but this is<BR/>customizable.  For example, in the UML-RT case edit-parts<BR/>are matched not with edit-parts visualizing the same model<BR/>element but with edit-parts visualizing the redefined model<BR/>element.</pre>
<H4 id ="_Z1pgYQM-EeWWbMjTqzYc1A">Class EditPartSyncItem</H4>
<pre id ="_Z1qugAM-EeWWbMjTqzYc1A">  - specializes <a href="#_ZXI_cQM-EeWWbMjTqzYc1A" title="Class SyncItem">SyncItem</a></pre>
<pre id ="_Z1rVkQM-EeWWbMjTqzYc1A">A SyncItem that manages synchronization of an EditPart<BR/>that visualizes an EObjects in a GMF-based diagram.</pre>
<H4 id ="_Z1r8oQM-EeWWbMjTqzYc1A">Collaboration Notation Synchronization</H4>
<pre id ="_Z1tKwAM-EeWWbMjTqzYc1A">  - traces to <a href="#_ZP-ngQM-EeWWbMjTqzYc1A" title="Requirement Diagram-to-Diagram Sync">Diagram-to-Diagram Sync</a>, <a href="#_zJRGUP_0EeScYo8tuJyy0A" title="Use Case Lay out elements in general state machine">Lay out elements in general state machine</a></pre>
<P align="middle"><img src=/Users/damus/git/Papyrus/plugins/infra/org.eclipse.papyrus.infra.sync/doc/imgDOC/Notation_Synchronization.png alt=Notation Synchronization ></P><P align="middle">Notation Synchronization</P></BR>
<H5 id ="_Z4VoAAM-EeWWbMjTqzYc1A">Interaction Synchronize Notation Views</H5>
<P align="middle"><img src=/Users/damus/git/Papyrus/plugins/infra/org.eclipse.papyrus.infra.sync/doc/imgDOC/Synchronize_Model_Elements.png alt=Synchronize Model Elements ></P><P align="middle">Synchronize Model Elements</P></BR>
<H4 id ="_Z6lDsAM-EeWWbMjTqzYc1A">Class NodePositionSyncDispatcher</H4>
<pre id ="_Z6lqwQM-EeWWbMjTqzYc1A">  - specializes <a href="#_ZXPtIQM-EeWWbMjTqzYc1A" title="Class EMFDispatch">EMFDispatch</a></pre>
<pre id ="_Z6m44AM-EeWWbMjTqzYc1A">A specialized dispatcher that listens to changes in the bounds of the notation view (Node)<BR/>managed by an EditPart.  It tracks the bounds of the shape, firing synchronization only<BR/>when node's position actually changes from the last known position.</pre>
<H4 id ="_Z6nf8QM-EeWWbMjTqzYc1A">Class NodeSizeSyncDispatcher</H4>
<pre id ="_Z6oHAQM-EeWWbMjTqzYc1A">  - specializes <a href="#_ZXPtIQM-EeWWbMjTqzYc1A" title="Class EMFDispatch">EMFDispatch</a></pre>
<pre id ="_Z6pVIAM-EeWWbMjTqzYc1A">A specialized dispatcher that listens to changes in the bounds of the notation view (Node)<BR/>managed by an EditPart.  It tracks the bounds of the shape, firing synchronization only<BR/>when node's size actually changes from the last known position.</pre>
<H4 id ="_Z6p8MQM-EeWWbMjTqzYc1A">Collaboration Synchronization Exclusions</H4>
<pre id ="_Z6rKUAM-EeWWbMjTqzYc1A">  - traces to <a href="#__JdhwP_0EeScYo8tuJyy0A" title="Use Case Lay out elements in special state machine">Lay out elements in special state machine</a>, <a href="#_ZP_OkQM-EeWWbMjTqzYc1A" title="Requirement Sync Override">Sync Override</a></pre>
<P align="middle"><img src=/Users/damus/git/Papyrus/plugins/infra/org.eclipse.papyrus.infra.sync/doc/imgDOC/Synchronization_Exclusions.png alt=Synchronization Exclusions ></P><P align="middle">Synchronization Exclusions</P></BR>
<H5 id ="_Z-CAUAM-EeWWbMjTqzYc1A">Interaction Exclude Views from Synchronization</H5>
<P align="middle"><img src=/Users/damus/git/Papyrus/plugins/infra/org.eclipse.papyrus.infra.sync/doc/imgDOC/Exclude_Views_from_Synchronization.png alt=Exclude Views from Synchronization ></P><P align="middle">Exclude Views from Synchronization</P></BR>
<H4 id ="_aA01oQM-EeWWbMjTqzYc1A">Class NotationSyncPolicyDelegate</H4>
<pre id ="_aA1csQM-EeWWbMjTqzYc1A">  - specializes <a href="#_Zot3oAM-EeWWbMjTqzYc1A" title="Class SyncPolicyDelegate">SyncPolicyDelegate</a></pre>
<H2 id ="_aA3R4AM-EeWWbMjTqzYc1A">Tests</H2>
<P align="middle"><img src=/Users/damus/git/Papyrus/plugins/infra/org.eclipse.papyrus.infra.sync/doc/imgDOC/Test_Plug-ins.png alt=Test Plug-ins ></P><P align="middle">Test Plug-ins</P></BR>
<H3 id ="_aBIXoAM-EeWWbMjTqzYc1A">Component org.eclipse.papyrus.infra.gmfdiag.common.tests</H3>
<pre id ="_aBI-sQM-EeWWbMjTqzYc1A">Test bundle for the Papyrus common diagram core plug-in.</pre>
<H3 id ="_aBKM0QM-EeWWbMjTqzYc1A">Package org.eclipse.papyrus.infra.gmfdiag.common.sync.tests</H3>
<P align="middle"><img src=/Users/damus/git/Papyrus/plugins/infra/org.eclipse.papyrus.infra.sync/doc/imgDOC/Test_Classes.png alt=Test Classes ></P><P align="middle">Test Classes</P></BR>
<pre id ="_aDDqQQM-EeWWbMjTqzYc1A">Test suite for the synchronization framework, covering both model-to-model<BR/>and diagram-to-diagram synchronization use cases.</pre>
<H4 id ="_aDERUQM-EeWWbMjTqzYc1A">Class MasterSlaveNotationSyncTest</H4>
<pre id ="_aDFfcAM-EeWWbMjTqzYc1A">Tests the synchronization framework basic synchronization use cases by way<BR/>of master/slave diagram-to-diagram synchronization.</pre>
<H4 id ="_aDGGgQM-EeWWbMjTqzYc1A">Class NotationSyncOverrideTest</H4>
<pre id ="_aDGtkQM-EeWWbMjTqzYc1A">Tests the synchronization framework's support for synchronization overrides<BR/>by way of master/slave diagram-to-diagram synchronization.</pre>
<H4 id ="_aDH7sAM-EeWWbMjTqzYc1A">Class TestSyncFixture</H4>
<pre id ="_aDIiwQM-EeWWbMjTqzYc1A">A JUnit test-fixture rule that implements a synchronization registry for class<BR/>diagrams in the context of the test execution.</pre>
<H2 id ="_aDJw4AM-EeWWbMjTqzYc1A">Requirements Coverage</H2>
<table style="border-collapse: collapse;"><caption style="caption-side: bottom;">RequirementsCoverageTable</caption><tr><th style="border: 1px solid black">Id</th><th style="border: 1px solid black">Satisfied by</th><th style="border: 1px solid black">Verified by</th></tr>
<tr><td style="border : 1px solid black"><a href="#_ZP8yUQM-EeWWbMjTqzYc1A" title="Model-to-Model Sync">R1</a><BR/>
</td><td style="border : 1px solid black"><a href="#_ZXRiUQM-EeWWbMjTqzYc1A" title="Synchronization">Synchronization</a><BR/>
</td><td style="border : 1px solid black"><a href="#_aDERUQM-EeWWbMjTqzYc1A" title="MasterSlaveNotationSyncTest">MasterSlaveNotationSyncTest</a><BR/>
</td></tr>
<tr><td style="border : 1px solid black"><a href="#_ZP-AcAM-EeWWbMjTqzYc1A" title="Additional Content">R1.1</a><BR/>
</td><td style="border : 1px solid black"><a href="#_Zo1MYAM-EeWWbMjTqzYc1A" title="Synchronization Overrides">Synchronization Overrides</a><BR/>
</td><td style="border : 1px solid black"><a href="#_aDERUQM-EeWWbMjTqzYc1A" title="MasterSlaveNotationSyncTest">MasterSlaveNotationSyncTest</a><BR/>
</td></tr>
<tr><td style="border : 1px solid black"><a href="#_ZP-ngQM-EeWWbMjTqzYc1A" title="Diagram-to-Diagram Sync">R2</a><BR/>
</td><td style="border : 1px solid black"><a href="#_Z1r8oQM-EeWWbMjTqzYc1A" title="Notation Synchronization">Notation Synchronization</a><BR/>
</td><td style="border : 1px solid black"><a href="#_aDERUQM-EeWWbMjTqzYc1A" title="MasterSlaveNotationSyncTest">MasterSlaveNotationSyncTest, 
</a><BR/>
<a href="#_aDGGgQM-EeWWbMjTqzYc1A" title="NotationSyncOverrideTest">NotationSyncOverrideTest</a><BR/>
</td></tr>
<tr><td style="border : 1px solid black"><a href="#_ZP_OkQM-EeWWbMjTqzYc1A" title="Sync Override">R2.1</a><BR/>
</td><td style="border : 1px solid black"><a href="#_Z6p8MQM-EeWWbMjTqzYc1A" title="Synchronization Exclusions">Synchronization Exclusions</a><BR/>
</td><td style="border : 1px solid black"><a href="#_aDGGgQM-EeWWbMjTqzYc1A" title="NotationSyncOverrideTest">NotationSyncOverrideTest</a><BR/>
</td></tr>
</table>
<pre id ="_aDKX8gM-EeWWbMjTqzYc1A">Unsatisfied requirements (0 out of 4) : </pre>
<pre id ="_aDLmEQM-EeWWbMjTqzYc1A">Unverified requirements (0 out of 4) : </pre>
</html>
