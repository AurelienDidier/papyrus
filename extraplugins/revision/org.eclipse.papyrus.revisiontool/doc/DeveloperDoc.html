<html><link rel="stylesheet" href="default.css" type="text/css"><H1>Revision model for Papyrus</H1><H2 id ="_6POAkHOzEeS3--5UptsX7w">Table of Contents</H2><ul><a href="#_6POAknOzEeS3--5UptsX7w">Requirements</a></ul><ul><a href="#_6Pg7g3OzEeS3--5UptsX7w">Use Cases</a><li><a href="#_6qAfInOzEeS3--5UptsX7w"> Add or change information about the current author for the versionning</a></li><li><a href="#_6qJpFHOzEeS3--5UptsX7w"> Respond to a review</a></li><li><a href="#_6qJpGnOzEeS3--5UptsX7w"> Add a review about modification on the current model</a></li><li><a href="#_6qTaE3OzEeS3--5UptsX7w"> Add, update or remove a review on the current model</a></li><li><a href="#_64IasHOzEeS3--5UptsX7w"> Create, load or save a review model </a></li><li><a href="#_64cjw3OzEeS3--5UptsX7w"> Close  WorkingModel or close review editor </a></li><li><a href="#_64cjxXOzEeS3--5UptsX7w"> Launch Revision mode</a></li><li><a href="#_64cjyXOzEeS3--5UptsX7w"> Register all modifications with Versioning information</a></li><li><a href="#_64dK03OzEeS3--5UptsX7w"> Stop RevisionMode</a></li><li><a href="#_64iqYHOzEeS3--5UptsX7w"> Accept or refuse modifications</a></li><li><a href="#_64wFwHOzEeS3--5UptsX7w"> see modifications in diagram</a></li><li><a href="#_6452wXOzEeS3--5UptsX7w"> see modification in model explorer</a></li><li><a href="#_6452w3OzEeS3--5UptsX7w"> CreateReviews</a></li></ul><ul><a href="#_6452xXOzEeS3--5UptsX7w">Design</a><li><a href="#_7XTqAHOzEeS3--5UptsX7w"> ReviewResourceManager</a></li><li><a href="#_7XTqAnOzEeS3--5UptsX7w"> ReviewsView</a></li><li><a href="#_7XTqBHOzEeS3--5UptsX7w"> ReviewsTreeLabelProvider</a></li><li><a href="#_7XTqBnOzEeS3--5UptsX7w"> ReviewsTreeContentProvider</a></li><li><a href="#_7XTqCHOzEeS3--5UptsX7w"> CreateOrSelectReviewModelDialog</a></li><li><a href="#_7XTqCnOzEeS3--5UptsX7w"> CreateAuthorDialog</a></li></ul><ul><a href="#_7XdbAXOzEeS3--5UptsX7w">Tests</a><li><a href="#_7XdbA3OzEeS3--5UptsX7w"> load a model without stereotypes</a></li><li><a href="#_7XdbBXOzEeS3--5UptsX7w"> load a model without dependency</a></li><li><a href="#_7XdbB3OzEeS3--5UptsX7w"> Load a file</a></li><li><a href="#_7XdbCXOzEeS3--5UptsX7w"> create a file</a></li><li><a href="#_7Xmk8XOzEeS3--5UptsX7w"> CloseandReopenReviewEditor</a></li><li><a href="#_7Xmk83OzEeS3--5UptsX7w"> CloseAndReopenWorkingModel</a></li><li><a href="#_7Xmk9XOzEeS3--5UptsX7w"> launch Revision With Opened model and Review editor not loaded</a></li><li><a href="#_7Xmk93OzEeS3--5UptsX7w"> launch Revison on open model without revision view</a></li><li><a href="#_7XwV8HOzEeS3--5UptsX7w"> launch revision on closed model</a></li><li><a href="#_7XwV8nOzEeS3--5UptsX7w"> launch Revision With Opened model and Review editor loaded </a></li><li><a href="#_7XwV9HOzEeS3--5UptsX7w"> Remove Class</a></li><li><a href="#_7XwV9nOzEeS3--5UptsX7w"> AddElement</a></li><li><a href="#_7XwV-HOzEeS3--5UptsX7w"> Change an attribute of an element</a></li><li><a href="#_7X6G8XOzEeS3--5UptsX7w"> See removed element</a></li><li><a href="#_7X6G83OzEeS3--5UptsX7w"> SeeAddings</a></li><li><a href="#_7X6G9XOzEeS3--5UptsX7w"> See a set of value</a></li></ul><ul><a href="#_7X6G93OzEeS3--5UptsX7w">Requirements Coverage</a></ul><H2 id ="_6POAknOzEeS3--5UptsX7w">Requirements</H2><pre id ="_6POAlHOzEeS3--5UptsX7w">- Versioning (id=Req_010): <BR/> Papyrus must integrate versioning in order to display in comment author and date.</pre><pre id ="_6PXKgXOzEeS3--5UptsX7w">- VersionInfoReq (id=Req_011): <BR/> Papyrus must integrate versionning. This information comes from O"4.3.2 Pre-Defined Metadata Elements" of the OASIS standard, "Open Document Format for Office Applications (OpenDocument) Version 1.2-Part 1: OpenDocument Schema". </pre><pre id ="_6PXKg3OzEeS3--5UptsX7w">- ReviewSystem (id=Req_020): <BR/> Papyrus must integrate a review system to add comments with the possibility to respond to this comment. Each comment must have information about the user the date.</pre><pre id ="_6PXKhXOzEeS3--5UptsX7w">- RevisionMode (id=Req_030): <BR/> Papyrus must integrate a means to make revision mechanism to register, accept or refuse modification done by an user</pre><pre id ="_6Pg7gXOzEeS3--5UptsX7w">- IndependantReview (id=Req_021): <BR/>  It can exits several review models for one design “working model”. The working model is the current model edited by papyrus.</pre><H2 id ="_6Pg7g3OzEeS3--5UptsX7w">Use Cases</H2><P align="middle"><img src=C:/git/org.eclipse.papyrus/extraplugins/revision/org.eclipse.papyrus.revisiontool/doc/imgDOC/ReviewSystem_UseCases.png alt=ReviewSystem UseCases ></P><P align="middle">ReviewSystem UseCases</P></BR><pre id ="_6iaCUnOzEeS3--5UptsX7w">The functionality revision can be divided into two parts:<BR/>- Management of review<BR/><BR/></pre><P align="middle"><img src=C:/git/org.eclipse.papyrus/extraplugins/revision/org.eclipse.papyrus.revisiontool/doc/imgDOC/ReviewSystem_UseCases.png alt=ReviewSystem UseCases ></P><P align="middle">ReviewSystem UseCases</P></BR><pre id ="_6n60cnOzEeS3--5UptsX7w">- Management of revisions</pre><P align="middle"><img src=C:/git/org.eclipse.papyrus/extraplugins/revision/org.eclipse.papyrus.revisiontool/doc/imgDOC/Revision_mode_Use_Case.png alt=Revision mode Use Case ></P><P align="middle">Revision mode Use Case</P></BR><H3 id ="_6qAfInOzEeS3--5UptsX7w">Add or change information about the current author for the versionning</H3><pre id ="_6qJpEHOzEeS3--5UptsX7w">When the user wants to add for the first time a review, the review system must ask the identity, the language and the wanted color of the user in order to add it in the associated review.<BR/>This information could be changed at any time in the preference of papyrus<BR/></pre><P align="middle"><img src=C:\git\org.eclipse.papyrus\extraplugins\revision\org.eclipse.papyrus.revisiontool\doc\imgDOC\UserIdentity.png alt=UserIdentity ></P><P align="middle">UserIdentity</P></BR><H3 id ="_6qJpFHOzEeS3--5UptsX7w">Respond to a review</H3><pre id ="_6qJpFnOzEeS3--5UptsX7w">A user could have the possibility to respond to an existing review. Thanks to this, it is possible to see the discussion flow about a subject. </pre><P align="middle"><img src=C:\git\org.eclipse.papyrus\extraplugins\revision\org.eclipse.papyrus.revisiontool\doc\imgDOC\RespondComment.png alt=RespondComment ></P><P align="middle">RespondComment</P></BR><H3 id ="_6qJpGnOzEeS3--5UptsX7w">Add a review about modification on the current model</H3><pre id ="_6qTaEXOzEeS3--5UptsX7w">When the revision mode is activated, the user can add review about the modification done in the model.<BR/>A review can be added about a deletion of UML element. In order to model a modification in a model, a Diff element from EMF compare can be used.<BR/><BR/></pre><H3 id ="_6qTaE3OzEeS3--5UptsX7w">Add, update or remove a review on the current model</H3><pre id ="_6qTaFXOzEeS3--5UptsX7w">The user adds a review on an element of the model. This review will be not directly store in the model but into a new model that will contain all review comments.<BR/>In order to create a review, the review tool can create a review model if needed. <BR/>The review tool creates also a "user author". From all preferences, the system creates an author that will associated to a review.<BR/>Finally this created review contains all informations see in the version information.<BR/><BR/>This review could be displayed on diagrams. A dedicated view must be displayed dedicated to review comment. (it can be sorted by date author, subject..)<BR/></pre><P align="middle"><img src=C:/git/org.eclipse.papyrus/extraplugins/revision/org.eclipse.papyrus.revisiontool/doc/imgDOC/Add_A_review_diagram.png alt=Add A review diagram ></P><P align="middle">Add A review diagram</P></BR><P align="middle"><img src=C:\git\org.eclipse.papyrus\extraplugins\revision\org.eclipse.papyrus.revisiontool\doc\imgDOC\addComment.png alt=Add a Comment ></P><P align="middle">Add a Comment</P></BR><H3 id ="_64IasHOzEeS3--5UptsX7w">Create, load or save a review model </H3><pre id ="_64TZ0HOzEeS3--5UptsX7w">When a model is opened in papyrus. The user can :<BR/>- create a new revision model<BR/>- load a new revision model<BR/>- save a revision model.<BR/>The revision model cannot be opened without the associated "working model".</pre><P align="middle"><img src=C:\git\org.eclipse.papyrus\extraplugins\revision\org.eclipse.papyrus.revisiontool\doc\imgDOC\OpenSaveReview.png alt=Open save a review ></P><P align="middle">Open save a review</P></BR><H3 id ="_64cjw3OzEeS3--5UptsX7w">Close  WorkingModel or close review editor </H3><H3 id ="_64cjxXOzEeS3--5UptsX7w">Launch Revision mode</H3><pre id ="_64cjx3OzEeS3--5UptsX7w">The user can launch revision mode. <BR/>From this time all modifications will be register and associated to the user. <BR/>A modification could be:<BR/>	- a deletion<BR/>	- an adding<BR/>	- a set of a property of the graphical model or the semantic model<BR/>when the revison model is runing all remove are not executed, there are intercepted and element are atagged as deleted.<BR/><BR/></pre><H3 id ="_64cjyXOzEeS3--5UptsX7w">Register all modifications with Versioning information</H3><pre id ="_64dK0XOzEeS3--5UptsX7w">All modifications are store and associated to the current user.<BR/>A modification must have a timestamp, an author.<BR/></pre><H3 id ="_64dK03OzEeS3--5UptsX7w">Stop RevisionMode</H3><pre id ="_64dK1XOzEeS3--5UptsX7w">When the user stop the revision mode, modifications are not registered and done directly on the model.<BR/></pre><H3 id ="_64iqYHOzEeS3--5UptsX7w">Accept or refuse modifications</H3><pre id ="_64kfkHOzEeS3--5UptsX7w">Thanks to registered modification the user can accept or refuse the modification.<BR/>If the modification is accepted, the adding or the deletion or the set is really done on the model, and the modification is removed from the stack.<BR/>If the modification is not accepted, the adding or deletion or the set is not applied, and the modification is removed from the stack.<BR/></pre><H3 id ="_64wFwHOzEeS3--5UptsX7w">see modifications in diagram</H3><H3 id ="_6452wXOzEeS3--5UptsX7w">see modification in model explorer</H3><H3 id ="_6452w3OzEeS3--5UptsX7w">CreateReviews</H3><H2 id ="_6452xXOzEeS3--5UptsX7w">Design</H2><P align="middle"><img src=C:/git/org.eclipse.papyrus/extraplugins/revision/org.eclipse.papyrus.revisiontool/doc/imgDOC/Architecture_Overview.png alt=Architecture Overview ></P><P align="middle">Architecture Overview</P></BR><P align="middle"><img src=C:/git/org.eclipse.papyrus/extraplugins/revision/org.eclipse.papyrus.revisiontool/doc/imgDOC/ProfileDiagram.png alt=ProfileDiagram ></P><P align="middle">ProfileDiagram</P></BR><pre id ="_7OE1gnOzEeS3--5UptsX7w">Versioning profile</pre><P align="middle"><img src=C:/git/org.eclipse.papyrus/extraplugins/revision/org.eclipse.papyrus.revisiontool/doc/imgDOC/Review_profile.png alt=Review profile ></P><P align="middle">Review profile</P></BR><pre id ="_7XKgEnOzEeS3--5UptsX7w">Review Profile</pre><H3 id ="_7XTqAHOzEeS3--5UptsX7w">ReviewResourceManager</H3><H3 id ="_7XTqAnOzEeS3--5UptsX7w">ReviewsView</H3><H3 id ="_7XTqBHOzEeS3--5UptsX7w">ReviewsTreeLabelProvider</H3><H3 id ="_7XTqBnOzEeS3--5UptsX7w">ReviewsTreeContentProvider</H3><H3 id ="_7XTqCHOzEeS3--5UptsX7w">CreateOrSelectReviewModelDialog</H3><H3 id ="_7XTqCnOzEeS3--5UptsX7w">CreateAuthorDialog</H3><H2 id ="_7XdbAXOzEeS3--5UptsX7w">Tests</H2><H3 id ="_7XdbA3OzEeS3--5UptsX7w">load a model without stereotypes</H3><H3 id ="_7XdbBXOzEeS3--5UptsX7w">load a model without dependency</H3><H3 id ="_7XdbB3OzEeS3--5UptsX7w">Load a file</H3><H3 id ="_7XdbCXOzEeS3--5UptsX7w">create a file</H3><H3 id ="_7Xmk8XOzEeS3--5UptsX7w">CloseandReopenReviewEditor</H3><H3 id ="_7Xmk83OzEeS3--5UptsX7w">CloseAndReopenWorkingModel</H3><H3 id ="_7Xmk9XOzEeS3--5UptsX7w">launch Revision With Opened model and Review editor not loaded</H3><H3 id ="_7Xmk93OzEeS3--5UptsX7w">launch Revison on open model without revision view</H3><H3 id ="_7XwV8HOzEeS3--5UptsX7w">launch revision on closed model</H3><H3 id ="_7XwV8nOzEeS3--5UptsX7w">launch Revision With Opened model and Review editor loaded </H3><H3 id ="_7XwV9HOzEeS3--5UptsX7w">Remove Class</H3><H3 id ="_7XwV9nOzEeS3--5UptsX7w">AddElement</H3><H3 id ="_7XwV-HOzEeS3--5UptsX7w">Change an attribute of an element</H3><H3 id ="_7X6G8XOzEeS3--5UptsX7w">See removed element</H3><H3 id ="_7X6G83OzEeS3--5UptsX7w">SeeAddings</H3><H3 id ="_7X6G9XOzEeS3--5UptsX7w">See a set of value</H3><H2 id ="_7X6G93OzEeS3--5UptsX7w">Requirements Coverage</H2><table style="border-collapse: collapse;"><caption style="caption-side: bottom;">RequirementsCoverageTable</caption><tr><th style="border: 1px solid black">Id</th><th style="border: 1px solid black">Satisfy by</th><th style="border: 1px solid black">Verify by</th></tr><tr><td style="border : 1px solid black"><a href="#_6POAlHOzEeS3--5UptsX7w" title="Versioning">Req_010</a></td><td style="border : 1px solid black">Add or change information about the current author for the versionning, Add, update or remove a review on the current model, CreateReviews</td><td style="border : 1px solid black"><a href="#_7XwV9HOzEeS3--5UptsX7w" title="Remove Class">Remove Class, </a><a href="#_7XwV-HOzEeS3--5UptsX7w" title="Change an attribute of an element">Change an attribute of an element, </a><a href="#_7XwV9nOzEeS3--5UptsX7w" title="AddElement">AddElement</a></td></tr><tr><td style="border : 1px solid black"><a href="#_6PXKgXOzEeS3--5UptsX7w" title="VersionInfoReq">Req_011</a></td><td style="border : 1px solid black">Add a review about modification on the current model</td><td style="border : 1px solid black"></td></tr><tr><td style="border : 1px solid black"><a href="#_6PXKg3OzEeS3--5UptsX7w" title="ReviewSystem">Req_020</a></td><td style="border : 1px solid black">Add, update or remove a review on the current model, Add a review about modification on the current model, Respond to a review, Add or change information about the current author for the versionning, Close  WorkingModel or close review editor </td><td style="border : 1px solid black"><a href="#_7XdbA3OzEeS3--5UptsX7w" title="load a model without stereotypes">load a model without stereotypes, </a><a href="#_7XdbBXOzEeS3--5UptsX7w" title="load a model without dependency">load a model without dependency, </a><a href="#_7XdbB3OzEeS3--5UptsX7w" title="Load a file">Load a file, </a><a href="#_7XdbCXOzEeS3--5UptsX7w" title="create a file">create a file, </a><a href="#_7Xmk83OzEeS3--5UptsX7w" title="CloseAndReopenWorkingModel">CloseAndReopenWorkingModel, </a><a href="#_7Xmk8XOzEeS3--5UptsX7w" title="CloseandReopenReviewEditor">CloseandReopenReviewEditor</a></td></tr><tr><td style="border : 1px solid black"><a href="#_6PXKhXOzEeS3--5UptsX7w" title="RevisionMode">Req_030</a></td><td style="border : 1px solid black">Launch Revision mode, Stop RevisionMode, Accept or refuse modifications, Register all modifications with Versioning information, CreateReviews</td><td style="border : 1px solid black"><a href="#_7XwV8HOzEeS3--5UptsX7w" title="launch revision on closed model">launch revision on closed model, </a><a href="#_7Xmk93OzEeS3--5UptsX7w" title="launch Revison on open model without revision view">launch Revison on open model without revision view, </a><a href="#_7Xmk9XOzEeS3--5UptsX7w" title="launch Revision With Opened model and Review editor not loaded">launch Revision With Opened model and Review editor not loaded, </a><a href="#_7XwV8nOzEeS3--5UptsX7w" title="launch Revision With Opened model and Review editor loaded ">launch Revision With Opened model and Review editor loaded , </a><a href="#_7XwV9nOzEeS3--5UptsX7w" title="AddElement">AddElement, </a><a href="#_7XwV-HOzEeS3--5UptsX7w" title="Change an attribute of an element">Change an attribute of an element, </a><a href="#_7XwV9HOzEeS3--5UptsX7w" title="Remove Class">Remove Class, </a><a href="#_7X6G8XOzEeS3--5UptsX7w" title="See removed element">See removed element, </a><a href="#_7X6G83OzEeS3--5UptsX7w" title="SeeAddings">SeeAddings, </a><a href="#_7X6G9XOzEeS3--5UptsX7w" title="See a set of value">See a set of value</a></td></tr><tr><td style="border : 1px solid black"><a href="#_6Pg7gXOzEeS3--5UptsX7w" title="IndependantReview">Req_021</a></td><td style="border : 1px solid black">Create, load or save a review model </td><td style="border : 1px solid black"></td></tr></table><pre id ="_7YDQ4XOzEeS3--5UptsX7w">Unsatisfied requirements (0 out of 5) : </pre><pre id ="_7YDQ43OzEeS3--5UptsX7w">Unverified requirements (2 out of 5) : </pre><a href="#_6PXKgXOzEeS3--5UptsX7w" title="VersionInfoReq">Req_011, </a><a href="#_6Pg7gXOzEeS3--5UptsX7w" title="IndependantReview">Req_021</a></html>