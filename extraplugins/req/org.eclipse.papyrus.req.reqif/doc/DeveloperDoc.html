<html><link rel="stylesheet" href="default.css" type="text/css"><H1>Import Export of ReqIF elements into Papyrus</H1><pre>This model explains the functionality in Papyrus Req in order to import or export ReqIF files into Papyrus (OMG Document Number: formal/2013-10-01 Standard document URL: http://www.omg.org/spec/ReqIF/1.1)<BR/></pre><H2>Requirements</H2><pre>- ReqIfImport (id=Req_001): <BR/> Darwin shall allow importation of Reqif elements to SysML Model</pre><pre>- ReqIFExport (id=Req_002): <BR/> Darwin shall enable export of SysML requirement to ReqIF Model</pre><pre>- ControlMode (id=Req_003): <BR/> The managment with ReqIf must support Control Mode</pre><pre>- WihtoutUI (id=Req_004): <BR/> The export can be done programmatically, without GUI, in order to test it, or to be enable to pilot it programmatically</pre><pre>- Re-Export (id=Req_005): <BR/> Papyrus shall re-export requirements in existing reqIF file</pre><pre>- Re-Import (id=Req_006): <BR/> Papyrus shall re-Import requirement from a ReqIF file</pre><H2>Use Cases</H2><P align="middle"><img src=C:/git/darwin/com.cea.darwin.reqif/doc/imgDOC/UseCases_Diagram.png alt=UseCases Diagram ></P><P align="middle">UseCases Diagram</P></BR><H3>Import ReqIF file</H3><pre>In order to import ReqFile into UMLModel, first analysis will be done:<BR/>- All existing SpecObjectTypes will be listed. From the list, the user chooses interesting Types. (In fact types may be purely information as title, chapter...)<BR/>- All stereotypes from applied profiles will be also listed.<BR/>Because each SpecType becomes a stereotype based on Requirement, if the two lists are equals no stereotypes will be created. </pre><P align="middle"><img src=C:/git/darwin/com.cea.darwin.reqif/doc/imgDOC/Import_Activity.png alt=Import Activity ></P><P align="middle">Import Activity</P></BR><pre>If stereotypes need to be created, a dialog is opened  in order to ask to the user if a profile must be created.<BR/>After importing types, elements of ReqIF file are imported  <BR/></pre><H4>How to</H4><pre>First the User must have a SysML model. Select the package where ReqIF elements will be imported.<BR/></pre><P align="middle"><img src=C:\git\darwin\com.cea.darwin.reqif\doc\imgDOC\import_1.png alt=Import SysMLModel ></P><P align="middle">Import SysMLModel</P></BR><pre>Select the menu Import  of Eclipse.</pre><P align="middle"><img src=C:\git\darwin\com.cea.darwin.reqif\doc\imgDOC\import_2.png alt=Select import Menu of Eclipse ></P><P align="middle">Select import Menu of Eclipse</P></BR><pre>Select the menu Import ReqIF from Papyrus Categories</pre><P align="middle"><img src=C:\git\darwin\com.cea.darwin.reqif\doc\imgDOC\import_3.png alt=Import ReqIF ></P><P align="middle">Import ReqIF</P></BR><pre>Select the ReqIF file to import</pre><P align="middle"><img src=C:\git\darwin\com.cea.darwin.reqif\doc\imgDOC\import_4.png alt=ReqIF file Selection ></P><P align="middle">ReqIF file Selection</P></BR><pre>Select Types of ReqIFElement that you want to import</pre><P align="middle"><img src=C:\git\darwin\com.cea.darwin.reqif\doc\imgDOC\import_5.png alt=SpecObject Type selection ></P><P align="middle">SpecObject Type selection</P></BR><pre>Types in ReqIF become stereotypes in profile, select or create the profile that will contain imported types</pre><P align="middle"><img src=C:\git\darwin\com.cea.darwin.reqif\doc\imgDOC\import_6.png alt=Create or select Profile ></P><P align="middle">Create or select Profile</P></BR><pre>The model has now imported requirements with relations. Note that a comment explains the origin of the import.</pre><P align="middle"><img src=C:\git\darwin\com.cea.darwin.reqif\doc\imgDOC\import7.png alt=C:\git\darwin\com.cea.darwin.reqif\doc\imgDOC\import7.png ></P><P align="middle">C:\git\darwin\com.cea.darwin.reqif\doc\imgDOC\import7.png</P></BR><H3>Import DataType Enumeration</H3><pre>Each Datatype Definition  Enumeration in a ReqFIle is transformed to UML Eneumeration in a profile.<BR/></pre><H3>Import SpecTypes</H3><pre>Each SpecObjectType choosen in the ReqIFile is transformed to stereotype that inherits of SysML Requirement in a profile.<BR/>Each SpecRelationType of the ReqIF file is transformed in to Stereotype based on dependency Metaclass.<BR/>Each attribute  is transformed to equivalent attribute in Stereotype. Only XTML attributes are transformed into String typed attributes in profile.<BR/></pre><H3>Import SpecObjects</H3><pre>Each SpecObjectNode is transformed to class with a corresponded applied stereotype. During the creation, SpecHierarchy ared used in order to structure the SysML files.<BR/>Each Specification becomes a package.<BR/>Each SpecRelation becomes a stereotyped dependency. if the souce or target of this object are not created, the spec relation will be not imported.<BR/></pre><H3>Export UML Model to ReqIF File</H3><pre>The goal is to export all requirements and links into ReqIF.<BR/>To do that, the tool lists all applied stereotypes that inherits of SysML::Requirement and that inherits of dependencies.<BR/>From this list, the tool constructs, in ReqIF File, correponding specObjects Tyoes and SpecRelationsTypes<BR/>Then from all stereotyped elements, it constructs the corresponding hierarchy. <BR/><BR/></pre><P align="middle"><img src=C:/git/darwin/com.cea.darwin.reqif/doc/imgDOC/Export_Activity.png alt=Export Activity ></P><P align="middle">Export Activity</P></BR><H4>How to</H4><pre>Select the SysML that you want to export<BR/></pre><P align="middle"><img src=C:\git\darwin\com.cea.darwin.reqif\doc\imgDOC\export1.png alt=SysML Model ></P><P align="middle">SysML Model</P></BR><pre>Select the export Menu from Eclipse menu.</pre><P align="middle"><img src=C:\git\darwin\com.cea.darwin.reqif\doc\imgDOC\import_2.png alt=Export Menu ></P><P align="middle">Export Menu</P></BR><pre>Select the menu export ReqIF form the papyrus Category</pre><P align="middle"><img src=C:\git\darwin\com.cea.darwin.reqif\doc\imgDOC\import_3.png alt=Import ReqIF file ></P><P align="middle">Import ReqIF file</P></BR><pre>Choose the name of the reqif file.</pre><P align="middle"><img src=C:\git\darwin\com.cea.darwin.reqif\doc\imgDOC\export5.png alt=Choose ReqIF File name ></P><P align="middle">Choose ReqIF File name</P></BR><pre>At the end, a reqFile is generated. The header has an information that explain that the result comes from UML file.<BR/></pre><P align="middle"><img src=C:\git\darwin\com.cea.darwin.reqif\doc\imgDOC\Export4.png alt=Result in the ReqIf file ></P><P align="middle">Result in the ReqIf file</P></BR><H3>export DataType</H3><pre>In a reqFile, all basic types must be created; that is why data type definition string, integer, Real, boolean and XHTML are created.<BR/>Moreover, all Enumerations in applied profiles become DataTypeDefinitionEnumerations in the ReqIF file.<BR/></pre><H3>Export Stereotypes</H3><pre>From all stereotypes, all SpecObject Types and all SpecRelationTypes will be created. If an attribute of a stereotype is typed by a primitiveType named XHTML, the attribute of the SpecObjecType will be XHTML. </pre><H3>Export Stereotyped Elements</H3><pre>From all packages that contains Requirements, a specification will be created. Then a hierarchy will be created by taking in account the structure of requirements. Finally SpecObject and SpecRelation are created.<BR/></pre><H3>Re-Import</H3><pre>When a ReqIfile has been already imported, Papyrus shall update contents during Re-import<BR/></pre><H3>Re-Export</H3><pre>When a UML model has been already exported, PapyrusReq must only update the content of the file.<BR/></pre><H2>Design</H2><P align="middle"><img src=C:/git/darwin/com.cea.darwin.reqif/doc/imgDOC/Architecture_of_ReqIF_Import-Export.png alt=Architecture of ReqIF Import-Export ></P><P align="middle">Architecture of ReqIF Import-Export</P></BR><pre>The architecture is quite simple. There are wizard for import and export,  two classes to realize the job and differents assistants or dialogs.<BR/>Nevertheless, two layers can be distinguished in the code:<BR/>	- one layer independent of the papyrus<BR/>	- one layer called integration dependent of papyrus.<BR/>Efforts have been made to be more independant of papyurs in order to facilitate the maintenance of the algorithm for import export.<BR/>The layer integration contains specializations to create elements by using service edit or use some facilities as advanced dialog.<BR/><BR/></pre><H2>Tests</H2><H3>TestImport</H3><pre>The goal is to test the import of a reIF file<BR/></pre><H3>ImportEnumeration</H3><pre>All dataType Definition Enumeration must become UML Enumeration into a profile<BR/></pre><H3>ImportSpecObjectTypes</H3><pre>All SelectedSpecObjects types must be stereotypes that specialize Requirement of SysML.<BR/>All attributes must also generated.<BR/></pre><H3>ImportSpecRelationTypes</H3><pre>All SpecRelationTypes must be imported as Stereotypes that extends dependency.<BR/></pre><H3>ImportSpecObject</H3><pre>All SpecObject with the selected SpecObjectTypes must be imported as class with corresponded applied stereotype.<BR/></pre><H3>ImportSpecRelation</H3><pre>All specRelation must be imported as stereotyped dependency.<BR/></pre><H3>ImportSpecObject_XHTML</H3><pre>if an attribute of a specObjectType is XHTML, the attribute in UML is typed by String</pre><H3>BadBuildReqIFFile</H3><pre>Not Tested, to implement<BR/></pre><H3>EmptyFile</H3><pre>Not Tested, to implement<BR/></pre><H3>TestExport</H3><H3>ExportEnumeration</H3><pre>All Enumeration from appliedProfile must become a datatypeDefinitionEnumeration In ReqIF File<BR/></pre><H3>ExportSpecObjectTypes</H3><pre>All stereotypes that inherits of SysML Requirement must become a SpecObjectType.<BR/></pre><H3>ExportSpecRelationTypes</H3><pre>All stereotypes that inherits of dependency become SpecRelationType</pre><H3>ExportSpecObject</H3><pre>All object stereotyped by a stereotype that has an equivalent in the list of SpecObjectType become a SpecObject  in the ReqIfFile.<BR/></pre><H3>ExportSpecRelation</H3><pre>All dependencies that are stereotyped by a stereotype that has an equivalence in the list of SpecRelation is imported as SpecObjectRelation.</pre><H3>ExportSpecObject_XHTML</H3><pre>If an attribute of a stereotype is typed by a primitive type XHTML, a datatype definition XHTML is created?<BR/></pre><H3>EmptyUMLFile</H3><pre>Not Tested, to implement<BR/></pre></html>